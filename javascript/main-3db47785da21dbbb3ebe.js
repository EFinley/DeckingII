!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="javascript/",t(0)}([function(e,t,n){e.exports=n(4)},,,,function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};if("undefined"==typeof i)var i={};var o=function(e){var t=document.id(e);return t?t:(t=document.getElements(e),t?1==t.length?t[0]:t:(console.log("Attempt to locate "+e.toString()+" failed."),null))};TweenLite.selector=o;var s=o("#container"),a=o("#workSpace"),l=o("#deskSpace"),r=o("#siteSpace"),c=o("#toolSpace"),h=o("#netSpace"),u=o("#chatSpace"),d=o("#flipper");!function(){var e=parseInt(window.orientation);0==e&&(e=90),180!=e&&e!=-90||(e=270)}();var p=new Class({Binds:["fadeInJack"],initialize:function(){s=o("#container"),a=o("#workSpace"),l=o("#deskSpace"),r=o("#siteSpace"),c=o("#toolSpace"),h=o("#netSpace"),u=o("#chatSpace"),d=o("#flipper"),this.elems=[],this.spaces=[],this.vulnerabilityList=[],this.activeToolIndex=-1,this.createFirstOverlay()},createFirstOverlay:function(){this.createOverlayElements(),this.captureDocument(),o("#onoSendaiJack").addEvent("click",this.jackIn)},jackIn:function(){"undefined"!=typeof screenfull&&screenfull.enabled&&screenfull.request(),TweenLite.to(o("#splashScreen"),.8,{autoAlpha:"0",pointerEvents:"none",ease:Power3.easeInOut})},captureDocument:function(){var e=o(".toolButton"),t=e.length,n=28,i=2*n,s=Math.PI/t,a=n/2/Math.tan(s/2)-.3*i,l=10,r=[];e.each(function(e,t){r[t]=s*(180/Math.PI)*(t+.5)+90,console.log("Tool: "+e+(e.id||"no ID")),console.log({top:-.26*n+"vmin",left:a+"vmin","transform-origin":-a+"vmin "+.26*n+"vmin",transform:"rotate(-"+r[t]+"deg)"}),TweenLite.set(e,{top:-.26*n+"vmin",left:a+"vmin",transformOrigin:-a+"vmin "+.26*n+"vmin",transform:"rotate(-"+r[t]+"deg)"})}),r.push(0),TweenLite.set(o("#toolKnob"),{top:-.26*n+"vmin",left:a+l+"vmin"}),TweenLite.set(c,{left:-a-l+3+"vmin"});var h=function(e){var t=document.getElements(".s"+e)[0],n=document.getElements(".scope");n.erase(t);var i=new TimelineLite;TweenLite.to(n,.5,{autoAlpha:0,ease:Power3.easeOut},0),t&&i.to(t,1,{autoAlpha:1,ease:Power4.easeInOut}).to(t.getElements(".yesGlow"),1,{autoAlpha:1,ease:Power2.easeInOut},.5).to(t.getElements(".yesGlow"),1,{autoAlpha:0,ease:Power2.easeInOut})},u=Draggable.create(toolSpace,{type:"rotation",throwProps:!0,snap:function(e){var n,i=e%360,o=+(1/0),s=this.activeToolIndex;if(n=this.activeToolIndex==t?10:75,Math.abs(i)<n&&(this.activeToolIndex=t,o=-1*Math.sign(i)*i),Math.abs(i)>360-n)this.activeToolIndex=t,o=Math.sign(360-i)*i;else for(var a=0;a<t;a++){var l=i-r[a],c=r[a]-i;l<c&&Math.abs(l)<Math.abs(o)&&(this.activeToolIndex=a,o=-l),l>c&&Math.abs(c)<Math.abs(o)&&(this.activeToolIndex=a,o=c)}return console.log("Snap called with end value "+e+" and activeToolIndex "+s+"; delta calculated at "+o+", for a final angle of "+(e+o)+" and index of "+this.activeToolIndex),e+o},trigger:o(".handle"),throwResistance:850,onClick:function(){this.activeToolIndex++,this.activeToolIndex=this.activeToolIndex%(t+1),TweenLite.to(this.target,.5,{rotation:r[this.activeToolIndex]+"_cw",ease:Strong.easeInOut}),h(this.activeToolIndex)},onThrowComplete:function(){h(this.activeToolIndex)},onDragStart:function(){var e=document.getElements(".s"+this.activeToolIndex)[0];console.log(e.id),e&&TweenLite.to(e.id,.25,{rotation:"-45deg",scale:.75,x:0,y:0,ease:Power3.easeIn})}})[0];u.activeToolIndex=t;var d=1,p=Draggable.create(o("#proxy"),{type:"x,y",throwProps:!0,trigger:o(".proxyTrigger"),onDrag:function(){"y"==this.lockedAxis?TweenLite.set(o("#flipper"),{rotationY:this.x}):TweenLite.set("#frontFace #backFace",{scrollY:this.y})},onThrowUpdate:function(){"y"==this.lockedAxis?TweenLite.set(o("#flipper"),{rotationY:this.x}):TweenLite.set("#frontFace #backFace",{scrollY:this.y})},onThrowComplete:function(){this.x%180==0&&o("norseMap").setStyle("display","none")},onDragStart:function(){o("norseMap").setStyle("display","block")},snap:{x:[-360,-100,-80,-180,0,80,100,180,360],y:null},bounds:{minX:-360,maxX:360},edgeResistance:.8,cursor:"pointer",throwResistance:900,minDuration:.25,dragResistance:.6/d,overshootTolerance:.5,lockAxis:!0,minimumMovement:6,dragClickables:!0})[0];console.log(p.vars.trigger);Draggable.create(o(".scope"),{type:"x,y",onDragStart:function(){this.tl=new TimelineLite,this.tl.to(this.target,2,{rotation:0,ease:Power2.easeOut}).to(this.target,1,{scale:1,ease:Power3.easeInOut},1).to(this.target.getElements(".yesGlow"),2,{autoAlpha:1,ease:Power3.easeInOut},1)},onClick:function(){TweenLite.to(this.target,.75,{rotation:"-45deg",scale:.75,x:0,y:0,ease:Power3.easeIn})}})},populateDecorativeElements:function(){this.parallax1space.setStyle("visibility","hidden"),this.parallax2space.setStyle("visibility","hidden");var e=new Element("pre",{id:"codeDisplayPre","class":"prettyprint"}),t=new Element("div",{id:"codeDispBD","class":"translucentBackground"});this.parallax1space.adopt(t,e),e.set("html","&lt;!DOCTYPE html>\n&lt;html>\n"+document.getElements("html")[0].get("html").replace(/[<>]/g,function(e){return{"<":"&lt;",">":"&gt;"}[e]})+"\n&lt;/html>");var n=new Element("div",{id:"binaryDisplayDiv"}),i=new Element("div",{id:"binDispBD","class":"translucentBackground"});this.parallax2space.adopt(i,n);var o=new Element("span",{id:"testSpan"});n.adopt(o);var s=function(e,t){for(var n="";n.length<e;)n+=Math.random().toString(2).replace(".","");if(n=n.slice(0,e).replace(/([01])/g,"$1 "),t){var i="/((?:[01] ){"+t+"})/g";n=n.replace(i,"$1<br>")}return n};o.set("html",s(100,10));var a=Math.ceil(n.getSize().x/o.getSize().x),l=Math.ceil(n.getSize().y/o.getSize().y);o.destroy(),n.set("html",s(Math.round(100*a*l),Math.round(10*a)))},createOverlayElements:function(){o("#topLeftOverlay").addEventListener("click",this.shutdownConsole,!1)},parseTarget:function(e,t,n){var i=new m(e);i.isActive?(console.log("Site "+e+" is current - data will apply."),t.each(function(e,t){if(e)if(n&&n[t])i.addVuln(e,n[t]);else{var s=""+e;if(!o(s))return;i.addVuln(e,s)}}),this.hackableSite=i):console.log("Site "+e+" not the current one - data stored but irrelevant.")},checkVulnerabilities:function(e){},createScope:function(){this.scope.passiveHalf=new Element("img",{id:"passiveScope","class":"imagefill",src:"http://hellequin.net/media/Reticle_simpler.png",styles:{opacity:"50%",position:"absolute"}}),this.scope.activeHalf=new Element("img",{id:"activeScope","class":"imagefill",src:"http://hellequin.net/media/Reticle.png",styles:{opacity:"0%",position:"absolute"}}),o(s).adopt(this.scope),this.scope.adopt(this.scope.passiveHalf,this.scope.activeHalf),this.scope.setStyles({left:"50vw",top:"90vh"})},shutdownConsole:function(){window.location.reload(!1)},dw_getWindowDims:function(){return window.getSize()},setHeightsAndWidths:function(){console.log("Autofit list is "+this.entitiesToAutofit),this.entitiesToAutofit.forEach(function(e){e.doAutofit()})},getPathTo:function(e){if(""!==e.id)return"//*[@id='"+e.id+"']";if(e===document.body)return e.tagName.toLowerCase();for(var t=0,n=e.parentNode.childNodes,i=0;i<n.length;i++){var o=n[i];if(o===e)return this.getPathTo(e.parentNode)+"/"+e.tagName.toLowerCase()+"["+(t+1)+"]";1===o.nodeType&&o.tagName===e.tagName&&t++}},getPageXY:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1],n=0,i=0;for(t&&(n+=e.offsetWidth/2,i+=e.offsetHeight/2);e;)n+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return[n,i]},autofit:function(e,t,n,i,o,s,a){n=n||t,i=i?i/100:1,o=o?o/100:1;var l=a?a:e;l.addEvent("load",function(){var a=e.getSize().y/e.getSize().x,l=function(e,t,n){return"element"==typeOf(e)?function(){return t*e.getSize()[n]}:"function"==typeOf(e)?function(){return t*e()}:function(){return t*e}},r=l(t,i,"x"),c=l(n,o,"y"),h=s?function(e){return e<=a}:function(e){return e>=a};e.doAutofit=function(){var t=r(),n=c();h(n/t)?(e.setStyles({height:"auto",width:t+"px"}),console.log("Styling "+e.id+"'s width to "+t+"px.")):(e.setStyles({height:n+"px",width:"auto"}),console.log("Styling "+e.id+"'s height to "+n+"px."))},this.entitiesToAutofit.include(e),console.log("Checking on entitiesToAutofit, it's "+this.entitiesToAutofit),e.doAutofit()}.bind(this))}}),g=new Class({initialize:function(e,t,n){this.colour=e,this.indent=t,this.length=n?n.getRandom():e.lengths.getRandom(),this.div=new Element("div",{className:"fingerprintLine",styles:{left:10*t+"%",width:Math.round(length*(10-t)/10)+"%"}}),this.img=new Element("img",{src:e.src,className:"fingerprintLineImg",styles:{left:Math.round(130*Math.random())+"%"}}),this.div.adopt(this.img)},addTo:function(e,t){this.div.setStyle("top","120%"),e.adopt(this.div)}}),f={makeCluster:function(e,t,n){for(var i=v.Blue,o=0,s=null;Math.random()<=f.P(t,o);){if(i=f.rollColour(n,o,i.name),"Green"!=i.name)s=new g(i,n),e.append(s);else{var a=e.getLast();e[e.length-1]=s=new g(i,n,null,[30,60,a.length-10,a.length,a.length+15]),e.append(a)}s.encapsulates(e,t,n+1),s.colour.length2&&e.append(new g(s.colour,n,s.colour.length2)),o++}},P:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return 0==t?1:e<0?0:t<e?(2*e-t)/(2*e-t+1):.5*P(e,t-1)}),rollColour:function(e,t,n){var i=f.odds[{indent:e,n:t,prevC:n}],o=Math.random(),s=null;return Object.each(i,function(e,t){o-=e,!s&&o<=0&&(s=t)}),v[s]}},v={Red:{name:"Red",src:"http://hellequin.net/media/RedLine.png",W_i:[1,4,3,2,1,-(1/0)],W_n:[2,4,6,5,5,4],W_prev:{Red:-3,Orange:-1,Blue:3,Green:2,Yellow:0},lengths:[12,16,20,23,26,29,32,34,36,39,42,45,48,52,57,65,75],lengths2:[5,10,12,14,15,16,18,19,20,22,25,30,36,47],N:2,encapsulates:f.makeCluster},Orange:{name:"Orange",src:"http://hellequin.net/media/OrangeLine.png",W_i:[12,2,0,-(1/0),-(1/0),-(1/0)],W_n:[0,2,4,6,5,3],W_prev:{Red:-6,Orange:5,Blue:0,Green:-8,Yellow:-8},lengths:[18,20,23,25,28,31,35,40,45,51,57,65],lengths2:[5,7,10,12,14,15,16,18,19,20,22,25,30,36,47,55],N:4,encapsulates:f.makeCluster},Blue:{name:"Blue",src:"http://hellequin.net/media/BlueLine.png",W_i:[10,15,12,15,10,0],W_n:[5,4,3,4,3,5],W_prev:{Red:8,Orange:1,Blue:-2,Green:4,Yellow:2},lengths:[10,20,23,25,27,29,31,33,35,37,40,43,46,48,50,55,65,67,70,72,75,80,85,90,100,120,130,155],encapsulates:function(e,t,n){var i=e.getLast;if(i.length>100){var o=new g(v.Blue,(200-i.length)/10,i.length-80+20*Math.random());i.length-=o.length,e.append(o)}}},Green:{name:"Green",src:"http://hellequin.net/media/GreenLine.png",W_i:[4,6,5,1,-10,-(1/0)],W_n:[-(1/0),5,2,2,-1,3],W_prev:{Red:4,Orange:8,Blue:0,Green:-7,Yellow:3},lengths:[50],encapsulates:function(){return[]}},Yellow:{name:"Yellow",src:"http://hellequin.net/media/YellowLine.png",W_i:[0,4,6,3,0,-(1/0)],W_n:[-2,0,1,2,4,5],W_prev:{Red:-2,Orange:-7,Blue:5,Green:2,Yellow:-14},lengths:[50],N:-1,encapsulates:f.makeCluster}};f.odds=function(){for(var e={},t=0;t<6;t++)for(var n=0;n<6;n++)Object.keys(v).each(function(i){var o=Object.map(v,function(e){return Math.max(0,e.W_i[t]+e.W_n[n]+e.W_prev[i.name])}),s=Object.values(o).sum();e[{indent:t,n:n,prevC:i}]=Object.map(o,function(e){return e/s})});return e}();var m=new Class({Binds:["tallyTargets","addVuln","applyToUI","toNearest"],vulnerabilities:{},applyToUI:function(e){this.isActive&&e.workspace.addEvent("scroll",this.tallyTargets.debounce(250).bind(this))},addVuln:function(e,t){this.vulnerabilities[e]=new w(e,this.host,null,t)},tallyTargets:function(){Object.each(this.vulnerabilities,function(e,t){e.pos=e.getCenterPos()})},initialize:function(e){if(this.host=new URI(e).get("host"),this.vulnerabilities={},this.isActive=this.host==new URI(window.location).get("host"),!this.isActive){var t=new function(){};return this.addVuln=t,this.getNearest=t,this}return console.log("Targets: "+this.tallyTargets()),window.addEvent("scroll",this.tallyTargets.debounce(350).bind(this)),window.addEvent("resize",this.tallyTargets.debounce(350).bind(this)),this},toNearest:function(e){var t=e.getCenterPos(),n=this.getNearest(e);return new y(t,n.pos)},getNearest:function(e){var t=e.getCenterPos(),n=null,i=+(1/0);return this.vulnerabilities.each(function(e,o){(t.x-e.pos.x)*(t.x-e.pos.x)+(t.y-e.pos.y)*(t.y-e.pos.y)<i&&(n=e,i=(t.x-e.pos.x)*(t.x-e.pos.x)+(t.y-e.pos.y)*(t.y-e.pos.y))}),n}}),y=new Class({initialize:function(e,t){("undefined"==typeof e?"undefined":n(e))==("undefined"==typeof t?"undefined":n(t))&&("Object"!=typeof e||null==typeof e.x||null==typeof t.x?(this.x=e.toFloat(),this.y=t.toFloat()):(this.x=e.x-t.x,this.y=e.y-t.y))},get d2(){return this.x*this.x+this.y*this.y},get d(){return Math.sqrt(this.d2)},get angle(){return Math.atan2(this.y,this.x)},get dW(){var e=window.getSize();return Math.sqrt(this.d2/(e.x*e.x+e.y*e.y))}}),w=new Class({initialize:function(e,t,n,i){this.rng=new Math.seedrandom(e+t+n+i);var s=function(){return this.rng().toString()[3]}.bind(this),a=["expl","sploit","vuln","crack","h@ck","haxx","backdoor","trojan","SQL_inj","XSS"][s()];for(this.name=e,this.site=t||window.location,this.host=new URI(t).get("host"),this.altText=n||"^"+this.host+"%%"+a+":"+this.name+"_v",this.lines=[],this.targetElement=null,this.altText+=[s(),s(),s()].join("."),this.fingerprintDiv=new Element("div",{id:"SR_UI"+this.altText,className:"fingerprintDiv SR_UI_centerAnchored",styles:{opacity:0}}),this.panels=[new Element("div",{className:"fingerprintPanel"}),new Element("div",{className:"fingerprintPanel"})],i&&(this.targetElement=o(i));this.lines.length<30&&this.lines.length%2!=0;)f.makeCluster(this.lines,this.lines.length%4+1,0);var l=Math.round(this.lines.length/2),r=15;this.panels[0].setStyles({height:l*r+"%",top:"0%"}),this.panels[1].setStyles({height:l*r+"%",top:l*r+"%"});for(var c=0;c<l;c++)this.panels[0].grab(this.lines[c]),this.lines[c].setStyle("top",r*c+"%"),this.panels[1].grab(this.lines[c+l]),this.lines[c+l].setStyle("top",r*c+"%");this.FXelements=[this.fingerprintDiv,this.panels[0],this.panels[1]],this.FXoptions={halfHeight:l*r}},getCenterPos:function(){return this.targetElement?this.targetElement.getCenterPos():null}});Function.implement({debounce:function(e,t){var n,i=this;return function(){var o=this,s=arguments,a=function(){n=null,t||i.apply(o,s)},l=t&&!n;clearTimeout(n),n=setTimeout(a,e),l&&i.apply(o,s)}}}),Element.implement({getCenterPos:function(){var e=this.getBoundingClientRect();return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}}),console.log("Done loading main script"),window.addEvent("domready",function(){i.domIsReady=!0;var e=new p;e.parseTarget("http://www.hellequin.net",["scriptLink"])})}]);